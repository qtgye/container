(function(t){"use strict";var e=0,n=Array.prototype.slice,r=function(e,n){var r=e[n];if(r===t&&k.strict)throw new Error("Bottle was unable to resolve a service.  `"+n+"` is undefined.");return r},i=function(t){return this.nested[t]||(this.nested[t]=M.pop())},o=function(t){return t.split(".").reduce(r,this)},c=function(t,e){var n=t.split(".");return t=n.pop(),a.call(n.reduce(A,this.container),t,e),this},a=function(t,e){Object.defineProperty(this,t,{configurable:!1,enumerable:!0,value:e,writable:!1})},u=function(t,e){var n,r;return"function"==typeof t&&(e=t,t="__global__"),n=t.split("."),r=n.shift(),n.length?i.call(this,r).decorator(n.join("."),e):(this.decorators[r]||(this.decorators[r]=[]),this.decorators[r].push(e)),this},s=function(t){return this.deferred.push(t),this},l=function(t){return(t||[]).map(o,this.container)},f=function(t,e){return j.call(this,t,function(){this.$get=e})},d=function(t,e){return f.call(this,t,function(t){return{instance:e.bind(e,t)}})},h=function(t){return!/^\$(?:register|list)$|Provider$/.test(t)},p=function(t){return Object.keys(t||this.container||{}).filter(h)},v=function(t,e,n,r){var i={configurable:!0,enumerable:!0};return t.length?i.get=function(){var e=0,r=function(i){if(i)throw i;t[e]&&t[e++](n,r)};return r(),n}:(i.value=n,i.writable=!0),Object.defineProperty(r,e,i),r[e]},b=function(t,e){var n,r;return"function"==typeof t&&(e=t,t="__global__"),n=t.split("."),r=n.shift(),n.length?i.call(this,r).middleware(n.join("."),e):(this.middlewares[r]||(this.middlewares[r]=[]),this.middlewares[r].push(e)),this},g={},m=function(t){var e;return t?(e=g[t],e||(g[t]=e=new M,e.constant("BOTTLE_NAME",t)),e):new M},y=function(t){t?delete g[t]:g={}},w=function(t,e){return e(t)},j=function(t,e){var n,r;return n=t.split("."),this.providerMap[t]&&1===n.length&&!this.container[t+"Provider"]?void 0:(this.providerMap[t]=!0,r=n.shift(),n.length?(O.call(this,r,e,n),this):$.call(this,r,e))},_=function(t,e){return(t[e]||[]).concat(t.__global__||[])},$=function(e,n){var r,i,o,c,a,u;return c=this.id,o=this.container,a=this.decorators,u=this.middlewares,r=e+"Provider",i=Object.create(null),i[r]={configurable:!0,enumerable:!0,get:function(){var t=new n;return delete o[r],o[r]=t,t}},i[e]={configurable:!0,enumerable:!0,get:function(){var n,i=o[r];return i&&(n=_(a,e).reduce(w,i.$get(o)),delete o[r],delete o[e]),n===t?n:v(_(u,e),e,n,o)}},Object.defineProperties(o,i),this},O=function(t,e,n){var r;return r=i.call(this,t),this.factory(t,function(){return r.container}),r.provider(n.join("."),e)},E=function(e){var n=e.$value===t?e:e.$value;return this[e.$type||"service"].apply(this,[e.$name,n].concat(e.$inject||[]))},P=function(t){return this.deferred.forEach(function(e){e(t)}),this},B=function(t,e){var r=arguments.length>2?n.call(arguments,2):null,i=this;return f.call(this,t,function(){return r&&(r=r.map(o,i.container),r.unshift(e),e=e.bind.apply(e,r)),new e})},x=function(t,e){var n;return n=t.split("."),t=n.pop(),L.call(n.reduce(A,this.container),t,e),this},A=function(t,e){var n=t[e];return n||(n={},L.call(t,e,n)),n},L=function(t,e){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,value:e,writable:!0})},M=function t(n){return this instanceof t?(this.id=e++,this.decorators={},this.middlewares={},this.nested={},this.providerMap={},this.deferred=[],void(this.container={$register:E.bind(this),$list:p.bind(this)})):t.pop(n)};M.prototype={constant:c,decorator:u,defer:s,digest:l,factory:f,instanceFactory:d,list:p,middleware:b,provider:j,register:E,resolve:P,service:B,value:x},M.pop=m,M.clear=y,M.list=p;var k=M.config={strict:!1},T={function:!0,object:!0};!function(t){var e=T[typeof exports]&&exports&&!exports.nodeType&&exports,n=T[typeof module]&&module&&!module.nodeType&&module,r=n&&n.exports===e&&e,i=T[typeof global]&&global;!i||i.global!==i&&i.window!==i||(t=i),"function"==typeof define&&"object"==typeof define.amd&&define.amd?(t.Bottle=M,define(function(){return M})):e&&n?r?(n.exports=M).Bottle=M:e.Bottle=M:t.Bottle=M}(T[typeof window]&&window||this)}).call(this),function(t){String.prototype.data=t}(function(t){var e=this.toString();if(!is.object(t))return e;var n=e.match(/{{[^{{}}]*}}/g);if(!n||!n.length)return e;var r=n.map(function(e){var n=e.match(/[^{{}}]+/g)[0].trim();return n in t?t[n]:""});return n.forEach(function(t,n){e=e.replace(t,r[n])}),e}),function(t){function e(t){for(key in t)Object.defineProperty(r,key,{value:t[key]});Object.freeze(r)}function n(){i.decorator(function(t){return t.moduleLoaded=!0,t})}var r=t.App=t.App||{},i=new Bottle;e({module:function(t,e,n){if(t in i.container)throw Error("Redefining a module is not allowed.");var r,o=[].slice.call(arguments),t=o[0],c=[],a=[];Array.isArray(o[1])?(c=c.concat(o[1]),r=o[2]):r=o[1],r.prototype.name=t,a=[t,r].concat(c),i.service.apply(i,a)},get:function(t){return i.container[t]},init:function(){n()}}),t.document&&t.document.addEventListener?document.addEventListener("DOMContentLoaded",r.init):r.init()}(this);